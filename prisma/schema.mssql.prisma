generator client {
  provider = "prisma-client-js"
  output   = "../prisma-clients/mssql"
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL_MSSQL")
}

model guns {
  id                   Int                 @id(map: "PK__guns__3213E83F50A070DD") @default(autoincrement())
  connector            String?             @db.NVarChar(45)
  cpid                 String?             @db.NVarChar(255)
  cpsn                 String?             @db.NVarChar(255)
  guns_status          String?             @db.NVarChar(45)
  createdAt            DateTime?           @db.Date
  updatedAt            DateTime?           @db.Date
  guns_metervalue1     String?             @db.NVarChar(255)
  guns_metervalue2     String?             @db.NVarChar(255)
  guns_metervalue3     String?             @db.NVarChar(255)
  guns_metervalue4     String?             @db.NVarChar(255)
  guns_metervalue5     String?             @db.NVarChar(255)
  guns_metervalue6     String?             @db.NVarChar(255)
  guns_memo1           String?             @db.NVarChar(255)
  guns_memo2           String?             @db.NVarChar(255)
  transactionid        String?             @db.NVarChar(255)
  acdc                 String?             @default("N'AC'", map: "DF__guns__acdc__571DF1D5") @db.NVarChar(2)
  max_kw               Int?                @default(0, map: "DF__guns__max_kw__5812160E")
  charging_standard_id Int?
  meter_id             Int?
  gun_tariffs          gun_tariffs[]
  charging_standards   charging_standards? @relation(fields: [charging_standard_id], references: [id], map: "FK_guns_charging_standard")
  meter                meters?             @relation("meter_guns", fields: [meter_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_guns_meter")

  @@index([acdc], map: "IX_guns_acdc")
  @@index([connector], map: "IX_guns_connector")
  @@index([cpid], map: "IX_guns_cpid")
  @@index([cpsn], map: "IX_guns_cpsn")
  @@index([guns_status], map: "IX_guns_guns_status")
  @@index([meter_id], map: "IX_guns_meter_id")
  @@index([charging_standard_id], map: "IX_guns_charging_standard_id")
}

model stations {
  id           Int      @id(map: "PK__stations__3213E83F180E8CC0") @default(autoincrement())
  station_code String   @unique(map: "UQ_stations_station_code") @db.NVarChar(50)
  name         String?  @db.NVarChar(100)
  address      String?  @db.NVarChar(255)
  floor        String?  @db.NVarChar(50)
  operator_id  String?  @db.NVarChar(50)
  updated_at   DateTime @default(now(), map: "DF__stations__update__4D94879B")
  meters       meters[] @relation("station_meters")
}

model meters {
  id           Int      @id(map: "PK__meters__3213E83F6A799E7F") @default(autoincrement())
  station_id   Int
  meter_no     String   @db.NVarChar(50)
  ems_mode     String   @default("N'static'", map: "DF__meters__ems_mode__5165187F") @db.NVarChar(32)
  max_power_kw Decimal  @default(480.00, map: "DF__meters__max_powe__52593CB8") @db.Decimal(10, 2)
  billing_mode String?  @db.NVarChar(32)
  owner_id     String?  @db.NVarChar(50)
  updated_at   DateTime @default(now(), map: "DF__meters__updated___534D60F1")
  guns         guns[]   @relation("meter_guns")
  station      stations @relation("station_meters", fields: [station_id], references: [id], onDelete: Cascade, map: "FK_meters_station")

  @@unique([station_id, meter_no], map: "UQ_station_meter")
  @@index([billing_mode], map: "IX_meters_billing_mode")
  @@index([meter_no], map: "IX_meters_meter_no")
  @@index([owner_id], map: "IX_meters_owner_id")
  @@index([station_id], map: "IX_meters_station_id")
}

model tariffs {
  id                    Int               @id(map: "PK__tariffs__3213E83FBFE670BE") @default(autoincrement())
  name                  String            @db.NVarChar(100)
  description           String?           @db.NVarChar(Max)
  tariff_type           String            @default("N'FIXED_RATE'", map: "DF__tariffs__tariff___37A5467C") @db.NVarChar(20)
  base_price            Decimal           @db.Decimal(10, 2)
  charging_parking_fee  Decimal?          @db.Decimal(10, 2)
  peak_hours_start      String?           @db.NVarChar(5)
  peak_hours_end        String?           @db.NVarChar(5)
  peak_hours_price      Decimal?          @db.Decimal(10, 2)
  off_peak_price        Decimal?          @db.Decimal(10, 2)
  weekend_price         Decimal?          @db.Decimal(10, 2)
  tier1_max_kwh         Decimal?          @db.Decimal(10, 2)
  tier1_price           Decimal?          @db.Decimal(10, 2)
  tier2_max_kwh         Decimal?          @db.Decimal(10, 2)
  tier2_price           Decimal?          @db.Decimal(10, 2)
  tier3_price           Decimal?          @db.Decimal(10, 2)
  discount_percentage   Decimal?          @db.Decimal(5, 2)
  promotion_code        String?           @db.NVarChar(50)
  valid_from            DateTime?
  valid_to              DateTime?
  season_start_month    Int?              @db.TinyInt
  season_end_month      Int?              @db.TinyInt
  season_type           String            @default("N'ALL_YEAR'", map: "DF__tariffs__season___398D8EEE") @db.NVarChar(20)
  grace_period_minutes  Int?
  penalty_rate_per_hour Decimal?          @db.Decimal(10, 2)
  ac_only               Boolean           @default(false, map: "DF__tariffs__ac_only__3B75D760")
  dc_only               Boolean           @default(false, map: "DF__tariffs__dc_only__3C69FB99")
  membership_required   Boolean           @default(false, map: "DF__tariffs__members__3D5E1FD2")
  is_active             Boolean           @default(true, map: "DF__tariffs__is_acti__3E52440B")
  is_default            Boolean           @default(false, map: "DF__tariffs__is_defa__3F466844")
  created_by            String?           @db.NVarChar(100)
  createdAt             DateTime          @default(now(), map: "DF__tariffs__created__403A8C7D")
  updatedAt             DateTime          @default(now(), map: "DF__tariffs__updated__412EB0B6") @updatedAt
  billing_records       billing_records[]
  gun_tariffs           gun_tariffs[]

  @@index([is_active], map: "IX_tariffs_is_active")
  @@index([is_default], map: "IX_tariffs_is_default")
  @@index([name], map: "IX_tariffs_name")
  @@index([tariff_type], map: "IX_tariffs_tariff_type")
}

model gun_tariffs {
  id        Int      @id(map: "PK__gun_tari__3213E83F67CDE8B6") @default(autoincrement())
  gun_id    Int
  tariff_id Int
  priority  Int?     @default(1, map: "DF__gun_tarif__prior__5EBF139D")
  is_active Boolean  @default(true, map: "DF__gun_tarif__is_ac__5FB337D6")
  createdAt DateTime @default(now(), map: "DF__gun_tarif__creat__60A75C0F")
  updatedAt DateTime @default(now(), map: "DF__gun_tarif__updat__619B8048")
  guns      guns     @relation(fields: [gun_id], references: [id], onDelete: Cascade, map: "FK_gun_tariffs_gun")
  tariffs   tariffs  @relation(fields: [tariff_id], references: [id], onDelete: Cascade, map: "FK_gun_tariffs_tariff")

  @@unique([gun_id, tariff_id], map: "UQ_gun_tariff")
  @@index([gun_id], map: "IX_gun_tariffs_gun_id")
  @@index([is_active], map: "IX_gun_tariffs_is_active")
  @@index([priority], map: "IX_gun_tariffs_priority")
  @@index([tariff_id], map: "IX_gun_tariffs_tariff_id")
}

model billing_channels {
  id                  Int                   @id(map: "PK__billing___3213E83F2E66552A") @default(autoincrement())
  name                String                @db.NVarChar(50)
  code                String                @unique(map: "UQ__billing___357D4CF9D18F98BD") @db.NVarChar(50)
  status              Int                   @default(1, map: "DF__billing_c__statu__76969D2E") @db.TinyInt
  config              String?               @db.NVarChar(Max)
  createdAt           DateTime              @default(now(), map: "DF__billing_c__creat__778AC167")
  updatedAt           DateTime              @default(now(), map: "DF__billing_c__updat__787EE5A0")
  billing_records     billing_records[]
  wallet_transactions wallet_transactions[]
}

model billing_records {
  id                    BigInt                @id(map: "PK__billing___3213E83F01E3E027") @default(autoincrement())
  transaction_id        String                @db.NVarChar(50)
  tariff_id             Int
  applied_price         Decimal               @db.Decimal(10, 2)
  energy_consumed       Decimal               @db.Decimal(10, 3)
  energy_fee            Decimal               @db.Decimal(10, 2)
  service_fee           Decimal               @db.Decimal(10, 2)
  discount_amount       Decimal?              @db.Decimal(10, 2)
  tax_amount            Decimal?              @db.Decimal(10, 2)
  total_amount          Decimal               @db.Decimal(10, 2)
  currency              String                @default("N'TWD'", map: "DF__billing_r__curre__7B5B524B") @db.NVarChar(3)
  start_time            DateTime
  end_time              DateTime
  charging_duration     Int
  billing_details       String?               @db.NVarChar(Max)
  invoice_number        String?               @db.NVarChar(20)
  invoice_issued_at     DateTime?
  payment_method        String?               @db.NVarChar(50)
  payment_reference     String?               @db.NVarChar(100)
  payment_time          DateTime?
  user_id               String                @db.NVarChar(36)
  id_tag                String                @db.NVarChar(20)
  cpid                  String                @db.NVarChar(255)
  cpsn                  String                @db.NVarChar(255)
  connector_id          Int
  status                String                @default("N'CALCULATED'", map: "DF__billing_r__statu__7C4F7684") @db.NVarChar(20)
  remark                String?               @db.NVarChar(Max)
  createdAt             DateTime              @default(now(), map: "DF__billing_r__creat__7E37BEF6")
  updatedAt             DateTime              @default(now(), map: "DF__billing_r__updat__7F2BE32F")
  billing_channels      billing_channels?     @relation(fields: [payment_method], references: [code], onDelete: NoAction, onUpdate: NoAction, map: "FK_billing_records_payment_method")
  tariffs               tariffs               @relation(fields: [tariff_id], references: [id], onUpdate: NoAction, map: "FK_billing_records_tariff_id")
  charging_transactions charging_transactions @relation(fields: [transaction_id], references: [transaction_id], onUpdate: NoAction, map: "FK_billing_records_transaction_id")
  users                 users                 @relation(fields: [user_id], references: [uuid], onUpdate: NoAction, map: "FK_billing_records_user_uuid")
  wallet_transactions   wallet_transactions[]

  @@index([cpid], map: "IX_billing_records_cpid")
  @@index([id_tag], map: "IX_billing_records_id_tag")
  @@index([invoice_number], map: "IX_billing_records_invoice_number")
  @@index([start_time], map: "IX_billing_records_start_time")
  @@index([status], map: "IX_billing_records_status")
  @@index([tariff_id], map: "IX_billing_records_tariff_id")
  @@index([transaction_id], map: "IX_billing_records_transaction_id")
  @@index([user_id], map: "IX_billing_records_user_id")
}

model charging_transactions {
  id                  BigInt                @id(map: "PK__charging__3213E83FA9218273") @default(autoincrement())
  transaction_id      String                @unique(map: "UQ__charging__85C600AEE344068E") @db.NVarChar(50)
  start_time          DateTime
  end_time            DateTime?
  cpid                String                @db.NVarChar(255)
  cpsn                String                @db.NVarChar(255)
  connector_id        Int
  user_id             String                @db.NVarChar(36)
  id_tag              String                @db.NVarChar(20)
  meter_start         Decimal?              @db.Decimal(10, 3)
  meter_stop          Decimal?              @db.Decimal(10, 3)
  energy_consumed     Decimal?              @db.Decimal(10, 3)
  current_power       Decimal?              @db.Decimal(8, 3)
  current_voltage     Decimal?              @db.Decimal(8, 2)
  current_current     Decimal?              @db.Decimal(8, 2)
  last_meter_update   DateTime?
  charging_duration   Int?
  status              String                @default("N'ACTIVE'", map: "DF__charging___statu__70DDC3D8") @db.NVarChar(20)
  stop_reason         String?               @db.NVarChar(100)
  createdAt           DateTime
  updatedAt           DateTime
  billing_records     billing_records[]
  users               users                 @relation(fields: [user_id], references: [uuid], onUpdate: NoAction, map: "FK_charging_transactions_user_uuid")
  wallet_transactions wallet_transactions[]

  @@index([cpid], map: "IX_charging_transactions_cpid")
  @@index([cpsn], map: "IX_charging_transactions_cpsn")
  @@index([end_time], map: "IX_charging_transactions_end_time")
  @@index([id_tag], map: "IX_charging_transactions_id_tag")
  @@index([start_time], map: "IX_charging_transactions_start_time")
  @@index([status], map: "IX_charging_transactions_status")
}

model cp_logs {
  id        BigInt    @id(map: "PK__cp_logs__3213E83F81E18382") @default(autoincrement())
  cpid      String?   @db.NVarChar(255)
  cpsn      String?   @db.NVarChar(255)
  log       String?   @db.NVarChar(Max)
  inout     String?   @db.NVarChar(45)
  time      DateTime?
  createdAt DateTime?
  updatedAt DateTime?
}

model fault_reports {
  id                                     BigInt    @id(map: "PK__fault_re__3213E83F8694ACE0") @default(autoincrement())
  cpid                                   String    @db.NVarChar(255)
  cpsn                                   String    @db.NVarChar(255)
  connector_id                           Int?
  user_id                                String    @db.NVarChar(36)
  fault_type                             String    @db.NVarChar(30)
  severity                               String    @default("N'MEDIUM'", map: "DF__fault_rep__sever__08B54D69") @db.NVarChar(10)
  description                            String    @db.NVarChar(Max)
  status                                 String    @default("N'REPORTED'", map: "DF__fault_rep__statu__0A9D95DB") @db.NVarChar(15)
  assigned_to                            String?   @db.NVarChar(36)
  resolution                             String?   @db.NVarChar(Max)
  reported_at                            DateTime  @default(now(), map: "DF__fault_rep__repor__0C85DE4D")
  resolved_at                            DateTime?
  createdAt                              DateTime  @default(now(), map: "DF__fault_rep__creat__0D7A0286")
  updatedAt                              DateTime  @default(now(), map: "DF__fault_rep__updat__0E6E26BF")
  users_fault_reports_assigned_toTousers users?    @relation("fault_reports_assigned_toTousers", fields: [assigned_to], references: [uuid], onDelete: NoAction, onUpdate: NoAction, map: "FK_fault_reports_assigned_user")
  users_fault_reports_user_idTousers     users     @relation("fault_reports_user_idTousers", fields: [user_id], references: [uuid], onUpdate: NoAction, map: "FK_fault_reports_user_uuid")

  @@index([cpid], map: "IX_fault_reports_cpid")
  @@index([cpsn], map: "IX_fault_reports_cpsn")
  @@index([reported_at], map: "IX_fault_reports_reported_at")
  @@index([severity], map: "IX_fault_reports_severity")
  @@index([status], map: "IX_fault_reports_status")
  @@index([user_id], map: "IX_fault_reports_user_id")
}

model maintenance_records {
  id                                             BigInt    @id(map: "PK__maintena__3213E83F77E46986") @default(autoincrement())
  cpid                                           String    @db.NVarChar(255)
  cpsn                                           String    @db.NVarChar(255)
  connector_id                                   Int?
  maintenance_type                               String    @db.NVarChar(20)
  priority                                       String    @default("N'NORMAL'", map: "DF__maintenan__prior__14270015") @db.NVarChar(10)
  description                                    String    @db.NVarChar(Max)
  scheduled_date                                 DateTime?
  actual_start_date                              DateTime?
  actual_end_date                                DateTime?
  technician_id                                  String?   @db.NVarChar(36)
  technician_name                                String?   @db.NVarChar(100)
  parts_used                                     String?   @db.NVarChar(Max)
  labor_cost                                     Decimal?  @db.Decimal(10, 2)
  parts_cost                                     Decimal?  @db.Decimal(10, 2)
  total_cost                                     Decimal?  @db.Decimal(10, 2)
  currency                                       String    @default("N'TWD'", map: "DF__maintenan__curre__160F4887") @db.NVarChar(3)
  status                                         String    @default("N'SCHEDULED'", map: "DF__maintenan__statu__17036CC0") @db.NVarChar(15)
  result                                         String?   @db.NVarChar(Max)
  next_maintenance_date                          DateTime?
  remarks                                        String?   @db.NVarChar(Max)
  created_by                                     String?   @db.NVarChar(36)
  createdAt                                      DateTime  @default(now(), map: "DF__maintenan__creat__18EBB532")
  updatedAt                                      DateTime  @default(now(), map: "DF__maintenan__updat__19DFD96B")
  users_maintenance_records_created_byTousers    users?    @relation("maintenance_records_created_byTousers", fields: [created_by], references: [uuid], onDelete: NoAction, onUpdate: NoAction, map: "FK_maintenance_records_created_by_uuid")
  users_maintenance_records_technician_idTousers users?    @relation("maintenance_records_technician_idTousers", fields: [technician_id], references: [uuid], onDelete: NoAction, onUpdate: NoAction, map: "FK_maintenance_records_technician_uuid")

  @@index([actual_start_date], map: "IX_maintenance_records_actual_start_date")
  @@index([cpid], map: "IX_maintenance_records_cpid")
  @@index([cpsn], map: "IX_maintenance_records_cpsn")
  @@index([created_by], map: "IX_maintenance_records_created_by")
  @@index([maintenance_type], map: "IX_maintenance_records_maintenance_type")
  @@index([scheduled_date], map: "IX_maintenance_records_scheduled_date")
  @@index([status], map: "IX_maintenance_records_status")
  @@index([technician_id], map: "IX_maintenance_records_technician_id")
}

model operation_logs {
  id          BigInt   @id(map: "PK__operatio__3213E83F61F6A9DB") @default(autoincrement())
  user_id     String?  @db.NVarChar(36)
  user_email  String?  @db.NVarChar(255)
  user_name   String?  @db.NVarChar(100)
  action_type String   @db.NVarChar(20)
  entity_type String   @db.NVarChar(20)
  entity_id   String?  @db.NVarChar(100)
  entity_name String?  @db.NVarChar(255)
  description String?  @db.NVarChar(500)
  status      String   @default("N'SUCCESS'", map: "DF__operation__statu__3E1D39E1") @db.NVarChar(10)
  createdAt   DateTime @default(now(), map: "DF__operation__creat__40058253")
  users       users?   @relation(fields: [user_id], references: [uuid], onUpdate: NoAction, map: "FK_operation_logs_user_uuid")

  @@index([action_type], map: "IX_operation_logs_action_type")
  @@index([createdAt], map: "IX_operation_logs_created_at")
  @@index([entity_type], map: "IX_operation_logs_entity_type")
  @@index([user_email], map: "IX_operation_logs_user_email")
  @@index([user_id], map: "IX_operation_logs_user_id")
}

model rfid_cards {
  id          Int      @id(map: "PK__rfid_car__3213E83FF17BA09B") @default(autoincrement())
  user_id     String   @db.NVarChar(36)
  card_number String   @unique(map: "UQ__rfid_car__1E6E0AF41AA8709F") @db.NVarChar(50)
  card_type   String   @default("RFID", map: "DF__rfid_card__card___2739D489") @db.NVarChar(20)
  status      String   @default("ACTIVE", map: "DF__rfid_card__statu__282DF8C2") @db.NVarChar(20)
  issued_at   DateTime @default(now(), map: "DF__rfid_card__issue__2A164134")
  createdAt   DateTime @default(now(), map: "DF__rfid_card__creat__2B0A656D")
  updatedAt   DateTime @default(now(), map: "DF__rfid_card__updat__2BFE89A6")
  users       users    @relation(fields: [user_id], references: [uuid], onUpdate: NoAction, map: "FK_rfid_cards_user_uuid")

  @@index([card_number], map: "IX_rfid_cards_card_number")
  @@index([status], map: "IX_rfid_cards_status")
  @@index([user_id], map: "IX_rfid_cards_user_id")
}

model user_wallets {
  id                  Int                   @id(map: "PK__user_wal__3213E83F6A551527") @default(autoincrement())
  user_id             String                @unique(map: "UQ__user_wal__B9BE370E744E2F77") @db.NVarChar(36)
  balance             Decimal               @default(0.00, map: "DF__user_wall__balan__1F98B2C1") @db.Decimal(10, 2)
  currency            String                @default("TWD", map: "DF__user_wall__curre__208CD6FA") @db.NVarChar(3)
  createdAt           DateTime              @default(now(), map: "DF__user_wall__creat__2180FB33")
  updatedAt           DateTime              @default(now(), map: "DF__user_wall__updat__22751F6C")
  users               users                 @relation(fields: [user_id], references: [uuid], onUpdate: NoAction, map: "FK_user_wallets_user_uuid")
  wallet_transactions wallet_transactions[]

  @@index([user_id], map: "IX_user_wallets_user_id")
}

model users {
  id                                                           Int                     @id(map: "PK__users__3213E83FABEE9C2A") @default(autoincrement())
  uuid                                                         String?                 @unique(map: "UQ__users__7F427931EBB8D1B6") @db.NVarChar(36)
  email                                                        String?                 @db.NVarChar(255)
  password                                                     String?                 @db.NVarChar(255)
  role                                                         String?                 @db.NVarChar(255)
  first_name                                                   String?                 @db.NVarChar(50)
  last_name                                                    String?                 @db.NVarChar(50)
  phone                                                        String?                 @db.NVarChar(20)
  date_of_birth                                                DateTime?               @db.Date
  email_verified                                               Int                     @default(0, map: "DF__users__email_ver__68487DD7") @db.TinyInt
  account_status                                               String                  @default("N'ACTIVE'", map: "DF__users__account_s__693CA210") @db.NVarChar(20)
  last_login_at                                                DateTime?
  login_count                                                  Int                     @default(0, map: "DF__users__login_cou__6B24EA82")
  failed_login_attempts                                        Int                     @default(0, map: "DF__users__failed_lo__6C190EBB")
  lockout_until                                                DateTime?
  createdAt                                                    DateTime
  updatedAt                                                    DateTime
  billing_records                                              billing_records[]
  charging_transactions                                        charging_transactions[]
  fault_reports_fault_reports_assigned_toTousers               fault_reports[]         @relation("fault_reports_assigned_toTousers")
  fault_reports_fault_reports_user_idTousers                   fault_reports[]         @relation("fault_reports_user_idTousers")
  maintenance_records_maintenance_records_created_byTousers    maintenance_records[]   @relation("maintenance_records_created_byTousers")
  maintenance_records_maintenance_records_technician_idTousers maintenance_records[]   @relation("maintenance_records_technician_idTousers")
  operation_logs                                               operation_logs[]
  rfid_cards                                                   rfid_cards[]
  user_wallets                                                 user_wallets?
  wallet_transactions                                          wallet_transactions[]

  @@index([account_status], map: "IX_users_account_status")
  @@index([email], map: "IX_users_email")
  @@index([email_verified], map: "IX_users_email_verified")
  @@index([last_login_at], map: "IX_users_last_login_at")
}

model wallet_transactions {
  id                      BigInt                 @id(map: "PK__wallet_t__3213E83FF32D725A") @default(autoincrement())
  user_id                 String                 @db.NVarChar(36)
  wallet_id               Int
  transaction_type        String                 @db.NVarChar(20)
  amount                  Decimal                @db.Decimal(10, 2)
  balance_before          Decimal                @db.Decimal(10, 2)
  balance_after           Decimal                @db.Decimal(10, 2)
  currency                String                 @default("TWD", map: "DF__wallet_tr__curre__30C33EC3") @db.NVarChar(3)
  description             String?                @db.NVarChar(255)
  billing_record_id       BigInt?
  charging_transaction_id String?                @db.NVarChar(50)
  reference_id            String?                @db.NVarChar(100)
  payment_method          String?                @db.NVarChar(50)
  status                  String                 @default("COMPLETED", map: "DF__wallet_tr__statu__31B762FC") @db.NVarChar(20)
  createdAt               DateTime               @default(now(), map: "DF__wallet_tr__creat__339FAB6E")
  updatedAt               DateTime               @default(now(), map: "DF__wallet_tr__updat__3493CFA7")
  billing_records         billing_records?       @relation(fields: [billing_record_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_wallet_transactions_billing")
  charging_transactions   charging_transactions? @relation(fields: [charging_transaction_id], references: [transaction_id], onDelete: NoAction, onUpdate: NoAction, map: "FK_wallet_transactions_charging_transaction")
  billing_channels        billing_channels?      @relation(fields: [payment_method], references: [code], onDelete: NoAction, onUpdate: NoAction, map: "FK_wallet_transactions_payment_method")
  users                   users                  @relation(fields: [user_id], references: [uuid], onUpdate: NoAction, map: "FK_wallet_transactions_user_uuid")
  user_wallets            user_wallets           @relation(fields: [wallet_id], references: [id], onUpdate: NoAction, map: "FK_wallet_transactions_wallet")

  @@index([billing_record_id], map: "IX_wallet_transactions_billing_record_id")
  @@index([charging_transaction_id], map: "IX_wallet_transactions_charging_transaction_id")
  @@index([createdAt], map: "IX_wallet_transactions_createdAt")
  @@index([status], map: "IX_wallet_transactions_status")
  @@index([transaction_type], map: "IX_wallet_transactions_transaction_type")
  @@index([user_id], map: "IX_wallet_transactions_user_id")
  @@index([wallet_id], map: "IX_wallet_transactions_wallet_id")
}

model charging_standards {
  id            Int      @id(map: "PK__charging__3213E83FFB234135") @default(autoincrement())
  name          String   @db.NVarChar(100)
  code          String   @unique(map: "UQ__charging__357D4CF9C4334204") @db.NVarChar(20)
  charging_type String   @db.NVarChar(2)
  description   String?  @db.NVarChar(255)
  is_active     Boolean  @default(true, map: "DF__charging___is_ac__46E78A0C")
  createdAt     DateTime @default(now(), map: "DF__charging___creat__47DBAE45")
  updatedAt     DateTime @default(now(), map: "DF__charging___updat__48CFD27E")
  guns          guns[]

  @@index([charging_type], map: "IX_charging_standards_charging_type")
  @@index([code], map: "IX_charging_standards_code")
  @@index([is_active], map: "IX_charging_standards_is_active")
}
